<!DOCTYPE html>
<html>
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <meta charset="UTF-8">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Moving to Debian</title>
        <link rel="stylesheet" type="text/css" href="../css/default.css" />
        
    </head>
    <body>
        <div id="header">
          <div id="logo">
      <a href="../">
        <img class="img" src="../images/log0.png" />
      </a>
</div>
<div id="navigation">
  <ul>
    <li>
      <a href="../blog.html">
        Blog
        <i class="fa fa-pencil"></i>
      </a>
    </li>
    <li>
      <a href="../pages.html">
        Writing
        <i class="fa fa-globe"></i>
      </a>
    </li>
    <li>
      <a href="../worklog.html">
        Worklog
        <i class="fa fa-bar-chart"></i>
      </a>
    </li>
    <li>
      <a href="../contact.html">
        Contact
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>

        </div>
        <div id="metadata">
            <ul class="meta">
            
                <li>tags: <em><a title="All pages tagged 'Linux'." href="../tags/Linux.html" rel="tag">Linux</a>, <a title="All pages tagged 'Debian'." href="../tags/Debian.html" rel="tag">Debian</a></em></li>
            
            
            <li>posted: <em> January 19, 2014 </em></li>
            <li>modified: <em> March 22, 2015
 </em></li>
            </ul>
        </div>
        <div id="content">
            <h1>Moving to Debian</h1>
            <div class="info">
    <!--
    <div class="snippets">
        <i class="fa fa-calendar"></i> January 19, 2014 <i class="fa fa-cut" March 22, 2015
></i> March 22, 2015

    </div>
    -->
    
</div>
<p>I made the move from Arch Linux to Debian last week.
Someone on the CNULUG mailing list
<a href="http://lists.cnulug.org/pipermail/cnulug-general_lists.cnulug.org/2014-January/000042.html">asked me about it</a>
and I provided the following explanation:</p>
<blockquote>
<ul>
<li><p>No official support for alternate initsystems (Debian at least has
open debate about OpenRC vs Initscripts vs systemD vs Upstart).</p></li>
<li><p>[Arch has a r]elatively closed development cycle compared to
Debian. It’s hard to follow what the devs are doing, even tracking
arch-dev-public and the archlinux mailing list isn’t on par with
following the Debian lists.</p></li>
<li><p>[Debian’s] wider array of packages mean I have to deal with less of the
awful quality of AUR PKGBUILDs. There’s no time spent messing around
trying to get it to work because the developer hasn’t updated it in
forever. Likewise, there’s no questioning whether or not I can trust
the author of the PKGBUILD to be both (a) smart and (b) in my best
interest (in terms of security). The debian packages hit a huge
number of users, and there is active debate about each and every one
of them in the mailing list - the same of which I wouldn’t say for
the AUR.</p></li>
<li><p>Desire to deviate from upstream. Arch locks their packages to
upstream, even if it doens’t make the most sense. Examples include
naming the GPG keys produced by mutt. On Arch, they use vanilla mutt
so you don’t get the patch that lets your GPG keys be named (e.g. in
Gmail) <q>signature.asc</q> instead of <q>noname</q>. This is one little
thing, but there are a number of packages I have to patch and update
myself on Arch where on every other distribution there is a set of
commonly used patches the developers just expect you to want. This
is especially true of legacy applications like mutt.</p></li>
</ul>
</blockquote>
<p>So far, the switch has been OK, but far from painless.
There are numerous little details that you take for granted when you’re running
Arch, like the simplicity of the package manager.
On Arch, your package management configuration goes in <code>/etc/pacman.conf</code>.
The lines I am concerned with look like the following:</p>
<pre class="sourceCode"><code>#[testing]
#SigLevel = PackageRequired
#Include = /etc/pacman.d/mirrorlist

[core]
SigLevel = PackageRequired
Include = /etc/pacman.d/mirrorlist

[extra]
SigLevel = PackageRequired
Include = /etc/pacman.d/mirrorlist</code></pre>
<p>Breaking this down, <code>#</code> means a commented line, and the <code>[core]</code>, etc. headings
represent individual repositories. The order that the repositories are listed
signifies their precedence.
The <code>Include =</code> line points to the file with the list of mirrors for the repo.
If you want to ignore a certain package from
updates, there is an <code>IgnorePkg=</code> line that you change, to signify that you want
to ignore it.</p>
<p>This format is easy to understand.
Obvious, even.
The reason I am detailing this is to contrast it to the Debian package
management system.
Debian’s package management configuration lives in <code>/etc/apt</code>. First there is
<code>sources.list</code>, which describes sources from which you are getting packages.
Mine looks like this:</p>
<pre class="sourceCode"><code>deb http://ftp.us.debian.org/debian testing main contrib non-free
deb-src http://ftp.us.debian.org/debian testing main contrib non-free

deb http://ftp.debian.org/debian/ jessie-updates main contrib non-free
deb-src http://ftp.debian.org/debian/ jessie-updates main contrib non-free

deb http://security.debian.org/ jessie/updates main contrib non-free
deb-src http://security.debian.org/ jessie/updates main contrib non-free

deb http://cdn.debian.net/debian unstable main
deb http://cdn.debian.net/debian experimental main</code></pre>
<p>The <a href="https://wiki.debian.org/SourcesList">Debian Wiki</a> describes this file, but
I will summarize it here:</p>
<ul>
<li><code>deb</code> or <code>deb-src</code> describes whether you are getting binaries or source
packages from the archive.</li>
<li>Then comes the URL.</li>
<li>Then you have the <q>distribution</q>. This can either be the release codename
(e.g. <code>squeeze</code>, <code>wheezy</code>) or the release class—<code>stable</code>, <code>testing</code>, etc.
My first point of confusion came here.
I wanted to use <q>Jessie</q>, the current testing distribution—but how does
<code>testing/updates</code> differ from <code>jessie/updates</code>? Are there updates for one, but
not the other? Why can (or can I?) use both <code>jessie/updates</code> and
<code>jessie-updates</code>, as seen in my config file?</li>
<li>Then come <q>components</q>. These are like <q>sub-branches</q> of an
archive for a particular release. In this sense, they are akin to Arch’s
repositories, if only one of them existed. I think if I hadn’t been coming from
a rolling-release distribution, this might have made more intuitive sense to me.
But personally, I just want to be able to specify all packages from Testing’s
<code>main</code>, <code>contrib</code>, and <code>non-free</code> components, with the added ability to
cherry-pick packages like <code>iceweasel</code> (Debian’s rebranding of Firefox)
from <code>unstable</code>. Instead, I have to muddle with <code>/updates</code> distributions in
addition to the main ones.</li>
</ul>
<p>As it turns out, <code>/updates</code> isn’t necessary for <code>[testing]</code> users, but you are
supposed to keep <code>release-codename/updates</code> around in case you wish to roll over
to the codename release once it goes live. This makes sense, but it was
confusing at first.</p>
<p>Then there is <code>apt.conf.d</code>, containing configuration settings for Debian
packages, with examples like the following:</p>
<pre class="sourceCode"><code>Acquire::cdrom {
  mount &quot;/media/cdrom&quot;;
};
Dir::Media::MountPath &quot;/media/cdrom&quot;;

APT::Authentication::TrustCDROM &quot;true&quot;;</code></pre>
<p>Upside: all of your package configuration is in one directory.
The configuration settings are more intricate and powerful than on Arch.
Downside: what is this configuration format?
Based on the manual page, it is nothing I could understand with one quick
grasp at its settings, though understanding will no doubt come with time.</p>
<p>Don’t even get me started on
<a href="https://wiki.debian.org/AptPreferences">Apt preferences</a>.
That file is so complicated that not even the wiki authors seem to
understand it. From <code>man 5 apt_preferences</code>:</p>
<blockquote>
<p>Preferences are a strong power in the hands of a system
administrator but they can become also their biggest nightmare if
used without care! APT will not question the preferences, so wrong
settings can lead to uninstallable packages or wrong decisions while
upgrading packages. Even more problems will arise if multiple
distribution releases are mixed without a good understanding of the
following paragraphs. Packages included in a specific release aren’t
tested in (and therefore don’t always work as expected in) older or
newer releases, or together with other packages from different
releases. You have been warned.</p>
</blockquote>
<p>For package management, there’s <code>dpkg</code> for the base package manager (i.e. it can
install <code>.deb</code> files), <code>apt-get</code> for downloading, installing, and removing
packages, <code>apt-query</code> for querying package databases, <code>apt-secure</code> for digital
signature verification of packages, and <code>aptitude</code> as a high-level wrapper
around all of this. As to whether this is ideal or not, I have heard arguments
both ways: some state that having all this separation complicates what should
be a simple process, and others say that the Debian way of doing things is
actually more unixy—do one thing, and do it well.</p>
<p>I’m not sure where I stand on that issue. Either way, Debian has given me some
interesting new challenges, and there are layers upon layers of complexity to
unveil before understanding how things are really working.</p>

        </div>
        <div id="footer">
            <p>
  Content © 2012-2021 Nathan Typanski
  and licensed under a <br /><a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
  Opinions are my own and not the views of my employer.
  <a href="../website.html">About this site.</a>
<!-- p-->
<p>
  <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" /></a>
</p>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-37825924-1', 'nathantypanski.com');
  ga('send', 'pageview');

</script>


        </div>
    </body>
</html>
